ScreenManager:
    Login_Page:
    Signup_Page:
    Home:
    Balance:
    Withdraw:
    Deposit:
    Transfer:

<Login_Page>:

    name:'login_page'

    MDToolbar:
        pos_hint:{'center_x':0.5,'center_y':0.95}
        title:'LOGIN'
        elevation:8

    MDTextField:
        id:login_username
        helper_text:"Enter Username"
        helper_text_mode: "persistent"
        required:True
        pos_hint:{'center_x':0.5,'center_y':0.65}
        icon_right: 'key-variant'
        size_hint_x:None
        width:270

    MDTextField:
        id:login_password
        helper_text:'Password'
        helper_text_mode: "persistent"
        required:True
        password: True
        pos_hint:{'center_x':0.5,'center_y':0.55}
        size_hint_x:None
        width:270

    MDIconButton:
        icon: "eye-off"
        ripple_scale: .5
        pos_hint: {"center_y": .55, "center_x":0.65}
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            login_password.password = False if login_password.password is True else True

    MDRectangleFlatButton:
        text:'Login'
        pos_hint:{'center_x':0.5,'center_y':0.45}
        on_release:
            check=app.credential_check(login_username.text,login_password.text)
            root.manager.current="home" if check == True else "login_page"


    MDRectangleFlatButton:
        text:'Signup'
        pos_hint:{'center_x':0.5,'center_y':0.35}
        on_press:
            root.manager.current="signup_page"
<Signup_Page>:
    name:'signup_page'

    MDToolbar:
        pos_hint:{'center_x':0.5,'center_y':0.95}
        title:'SIGNUP'
        elevation:8

    MDTextField:
        id: firstname
        helper_text:'First Name'
        helper_text_mode: "persistent"
        pos_hint:{'center_x':0.5,'center_y':0.8}
        required:True
        size_hint_x:None
        width:270


    MDTextField:
        id:lastname
        helper_text:'Last Name'
        helper_text_mode: "persistent"
        pos_hint:{'center_x':0.5,'center_y':0.7}
        required:True
        size_hint_x:None
        width:270

    MDTextField:
        id:password
        helper_text:'Set Password'
        helper_text_mode: "persistent"
        pos_hint:{'center_x':0.5,'center_y':0.6}
        size_hint_x:None
        width:270
        required:True

    MDIconButton:
        icon: "eye-off"
        ripple_scale: .5
        pos_hint: {"center_y": .6, "center_x":0.65}
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            password.password = False if password.password is True else True

    MDTextField:
        id:phonenumber
        helper_text:'Phone Number'
        helper_text_mode: "persistent"
        pos_hint:{'center_x':0.5,'center_y':0.5}
        size_hint_x:None
        width:270
        required:True

    MDTextField:
        id:aadharnumber
        helper_text:'Aadhar Number'
        helper_text_mode: "persistent"
        pos_hint:{'center_x':0.5,'center_y':0.4}
        size_hint_x:None
        width:270
        required:True

    MDRectangleFlatButton:
        text:'Submit'
        on_press: app.upload_success_dialog()
        pos_hint:{'center_x':0.5,'center_y':0.3}
        on_release: app.signup_new(firstname.text,lastname.text,password.text,phonenumber.text,aadharnumber.text)

    MDRectangleFlatButton:
        text:'Have an account? Login'
        pos_hint:{'center_x':0.5,'center_y':0.2}
        on_press: root.manager.current="home"

<Home>:
    name:'home'

    MDToolbar:
        pos_hint:{'center_x':0.5,'center_y':0.95}
        title:'PyBank'
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
        elevation:8

    MDNavigationDrawer:
        id:nav_drawer
        BoxLayout:
            spacing:'8dp'
            padding:'8dp'
            orientation:'vertical'

            Image:
                source:'python_logo.png'

            ScrollView:
                MDList:
                    OneLineIconListItem:
                        text: 'Balance'
                        on_press:
                            app.upload_success_dialog()
                            
                        IconLeftWidget:
                            icon:'cash'



                    OneLineIconListItem:
                        text: 'Transfer'
                        on_press:root.manager.current='transfer_page'
                        IconLeftWidget:
                            icon:'bank-transfer'


                    OneLineIconListItem:
                        text: 'Withdraw'
                        on_press:root.manager.current='withdraw_page'
                        IconLeftWidget:
                            icon:'cash-minus'

                    OneLineIconListItem:
                        text: 'Deposit'
                        on_press:root.manager.current='deposit_page'
                        IconLeftWidget:
                            icon:'cash-plus'

                    OneLineIconListItem:
                        text: 'Logout'
                        on_press:root.manager.current='login_page'
                        IconLeftWidget:
                            icon:'logout'


<Balance>:

    name:'balance_page'

    MDToolbar:
        pos_hint:{'center_x':0.5,'center_y':0.95}
        title:'PyBank'
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
        elevation:8

    BoxLayout:
        spacing:'8dp'
        padding:'8dp'
        orientation:'vertical'



    MDNavigationDrawer:
        id:nav_drawer
        BoxLayout:
            spacing:'8dp'
            padding:'8dp'
            orientation:'vertical'

            Image:
                source:'python_logo.png'

            ScrollView:
                MDList:
                    OneLineIconListItem:
                        text: 'Balance'
                        on_press:
                            root.manager.current="balance_page"
                            app.get_balance()
                        IconLeftWidget:
                            icon:'cash'



                    OneLineIconListItem:
                        text: 'Transfer'
                        on_press:root.manager.current='transfer_page'
                        IconLeftWidget:
                            icon:'bank-transfer'


                    OneLineIconListItem:
                        text: 'Withdraw'
                        on_press:root.manager.current='withdraw_page'
                        IconLeftWidget:
                            icon:'cash-minus'

                    OneLineIconListItem:
                        text: 'Deposit'
                        on_press:root.manager.current='deposit_page'
                        IconLeftWidget:
                            icon:'cash-plus'

                    OneLineIconListItem:
                        text: 'Logout'
                        on_press:root.manager.current='login_page'
                        IconLeftWidget:
                            icon:'logout'



<Withdraw>:

    name:'withdraw_page'

    MDToolbar:
        pos_hint:{'center_x':0.5,'center_y':0.95}
        title:'PyBank'
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
        elevation:8

    BoxLayout:
        spacing:'8dp'
        padding:'8dp'
        orientation:'vertical'



    MDNavigationDrawer:
        id:nav_drawer
        BoxLayout:
            spacing:'8dp'
            padding:'8dp'
            orientation:'vertical'

            Image:
                source:'python_logo.jpg'

            ScrollView:
                MDList:
                    OneLineIconListItem:
                        text: 'Balance'
                        on_press:
                            root.manager.current="balance_page"
                            

                        IconLeftWidget:
                            icon:'cash'



                    OneLineIconListItem:
                        text: 'Transfer'
                        on_press:root.manager.current='transfer_page'
                        IconLeftWidget:
                            icon:'bank-transfer'


                    OneLineIconListItem:
                        text: 'Withdraw'
                        on_press:root.manager.current='withdraw_page'
                        IconLeftWidget:
                            icon:'cash-minus'

                    OneLineIconListItem:
                        text: 'Deposit'
                        on_press:root.manager.current='deposit_page'
                        IconLeftWidget:
                            icon:'cash-plus'

                    OneLineIconListItem:
                        text: 'Logout'
                        on_press:root.manager.current='login_page'
                        IconLeftWidget:
                            icon:'logout'

    MDTextField:
        id:withdraw_amount
        hint_text: 'Amount'
        pos_hint: {'center_x': 0.5, 'center_y': 0.75}
        mode:'rectangle'
        required:True
        size_hint_x:None
        width:500
        IconLeftWidget:
            icon: 'cash'

    MDRectangleFlatButton:
        text:'GO'
        pos_hint: {'center_x': 0.5, 'center_y': 0.65}
        on_press:app.get_withdraw_amount(withdraw_amount.text)

<Transfer>:

    name:'transfer_page'

    MDToolbar:
        pos_hint:{'center_x':0.5,'center_y':0.95}
        title:'PyBank'
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
        elevation:8

    BoxLayout:
        spacing:'8dp'
        padding:'8dp'
        orientation:'vertical'



    MDNavigationDrawer:
        id:nav_drawer
        BoxLayout:
            spacing:'8dp'
            padding:'8dp'
            orientation:'vertical'

            Image:
                source:'python_logo.jpg'

            ScrollView:
                MDList:
                    OneLineIconListItem:
                        text: 'Balance'
                        on_press:
                            root.manager.current="balance_page"
                            
                        IconLeftWidget:
                            icon:'cash'



                    OneLineIconListItem:
                        text: 'Transfer'
                        on_press:root.manager.current='transfer_page'
                        IconLeftWidget:
                            icon:'bank-transfer'


                    OneLineIconListItem:
                        text: 'Withdraw'
                        on_press:root.manager.current='withdraw_page'
                        IconLeftWidget:
                            icon:'cash-minus'

                    OneLineIconListItem:
                        text: 'Deposit'
                        on_press:root.manager.current='deposit_page'
                        IconLeftWidget:
                            icon:'cash-plus'

                    OneLineIconListItem:
                        text: 'Logout'
                        on_press:root.manager.current='login_page'
                        IconLeftWidget:
                            icon:'logout'

    MDTextField:
        hint_text: 'Account'
        mode:'rectangle'
        pos_hint: {'center_x': 0.5, 'center_y': 0.75}
        required:True
        size_hint_x:None
        width:300
        IconLeftWidget:
            icon: 'cash'

    MDTextField:
        hint_text: 'Amount'
        mode:'rectangle'
        pos_hint: {'center_x': 0.5, 'center_y': 0.65}
        required:True
        size_hint_x:None
        width:300
        IconLeftWidget:
            icon: 'key'

<Deposit>:

    name:'deposit_page'

    MDToolbar:
        pos_hint:{'center_x':0.5,'center_y':0.95}
        title:'PyBank'
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
        elevation:8

    BoxLayout:
        spacing:'8dp'
        padding:'8dp'
        orientation:'vertical'



    MDNavigationDrawer:
        id:nav_drawer
        BoxLayout:
            spacing:'8dp'
            padding:'8dp'
            orientation:'vertical'

            Image:
                source:'python_logo.jpg'

            ScrollView:
                MDList:
                    OneLineIconListItem:
                        text: 'Balance'
                        on_press:
                            root.manager.current="balance_page"

                        IconLeftWidget:
                            icon:'cash'



                    OneLineIconListItem:
                        text: 'Transfer'
                        on_press:root.manager.current='transfer_page'
                        IconLeftWidget:
                            icon:'bank-transfer'


                    OneLineIconListItem:
                        text: 'Withdraw'
                        on_press:root.manager.current='withdraw_page'
                        IconLeftWidget:
                            icon:'cash-minus'

                    OneLineIconListItem:
                        text: 'Deposit'
                        on_press:root.manager.current='deposit_page'
                        IconLeftWidget:
                            icon:'cash-plus'

                    OneLineIconListItem:
                        text: 'Logout'
                        on_press:root.manager.current='login_page'
                        IconLeftWidget:
                            icon:'logout'

    MDTextField:
        hint_text: 'Amount'
        mode:'rectangle'
        pos_hint: {'center_x': 0.5, 'center_y': 0.75}
        required:True
        size_hint_x:None
        width:500
        IconLeftWidget:
            icon: 'cash'